{"version":3,"sources":["webpack:///./resources/assets/js/components/Nav/ViewAllNotifications.vue","webpack:///./resources/assets/js/components/Nav/ViewAllNotifications.vue?a533","webpack:///./resources/assets/js/components/Nav/ViewAllNotifications.vue?b622","webpack:///resources/assets/js/components/Nav/ViewAllNotifications.vue","webpack:///./resources/assets/js/components/Nav/ViewAllNotifications.vue?2029"],"names":["Component","__webpack_require__","normalizeComponent","ssrContext","module","exports","content","i","locals","push","__webpack_exports__","name","data","all_notifications","currentComponent","created","_this","this","axios","get","__WEBPACK_IMPORTED_MODULE_0__routes__","then","rsp","catch","err","console","log","response","swal","fire","message","request","computed","all_notifications_count","_","size","methods","deleteNotification","notif","_this2","Object","id","removed","indexOf","splice","markAsRead","is_read","render","_vm","_h","$createElement","_c","_self","_t","_v","staticClass","_s","_l","n","key","attrs","href","on","click","$event","$emit","sender_name","_e","notification","staticRenderFns"],"mappings":"uCAGA,IAaAA,EAbAC,EAAA,GAaAC,CAXAD,EAAA,KAEAA,EAAA,MAEA,EATA,SAAAE,GACAF,EAAA,MAYA,kBAEA,MAUAG,EAAAC,QAAAL,EAAAK,6BCtBA,IAAAC,EAAAL,EAAA,KACA,iBAAAK,QAAAF,EAAAG,EAAAD,EAAA,MACAA,EAAAE,SAAAJ,EAAAC,QAAAC,EAAAE,QAEAP,EAAA,GAAAA,CAAA,WAAAK,GAAA,4BCPAF,EAAAC,QAAAJ,EAAA,GAAAA,EAAA,IAKAQ,MAAAL,EAAAG,EAAA,gJAAuK,oGC6CvKG,EAAA,SACAC,KAAA,oBACAC,KAFA,WAGA,OACAC,qBACAC,iBAAA,OAGAC,QARA,WAQA,IAAAC,EAAAC,KACAC,MACAC,IAAAC,EAAA,GACAC,KAAA,SAAAC,GACAN,EAAAH,kBAAAS,EAAAV,YAEAW,MAAA,SAAAC,GACAC,QAAAC,IAAAF,EAAAG,UAEAH,EAAAG,SACAC,KAAAC,KAAA,kBAAAL,EAAAG,SAAAG,QAAA,SACAN,EAAAO,QACAH,KAAAC,KAAA,mBAAAL,EAAAO,QAAA,SAEAH,KAAAC,KAAA,mBAAAL,EAAAM,QAAA,YAIAE,UACAC,wBADA,WAEA,OAAAC,EAAAC,KAAAlB,KAAAJ,qBAGAuB,SACAC,mBADA,SACAC,GAAA,IAAAC,EAAAtB,KACAC,MAAAC,IAAAqB,OAAApB,EAAA,EAAAoB,CAAAF,EAAAG,KAAApB,KAAA,SAAAC,GACAM,KAAAC,KAAA,qBACA,IAAAa,EAAAH,EAAA1B,kBAAA8B,QAAAL,GACAC,EAAA1B,kBAAA+B,OAAAF,EAAA,MAGAG,WARA,SAQAP,GACApB,MAAAC,IAAAqB,OAAApB,EAAA,EAAAoB,CAAAF,EAAAG,KAAApB,KAAA,SAAAC,GACAgB,EAAAQ,SAAA,0BCzFA1C,EAAAC,SAAkB0C,OAFlB,WAA0B,IAAAC,EAAA/B,KAAagC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAH,EAAAK,GAAA,gBAAAL,EAAAM,GAAA,KAAAH,EAAA,OAA8DI,YAAA,sCAAgDJ,EAAA,OAAYI,YAAA,aAAuBJ,EAAA,OAAYI,YAAA,oBAA8BJ,EAAA,OAAYI,YAAA,2BAAqCJ,EAAA,MAAWI,YAAA,cAAwBP,EAAAM,GAAA,sBAAAN,EAAAQ,GAAAR,EAAAf,yBAAA,SAAAe,EAAAM,GAAA,KAAAH,EAAA,OAAkGI,YAAA,aAAuBJ,EAAA,MAAWI,YAAA,qCAAgDP,EAAAS,GAAAT,EAAA,2BAAAU,GAA4C,OAAAP,EAAA,MAAgBQ,IAAAD,EAAAjB,GAAAc,YAAA,SAA4BJ,EAAA,OAAYI,YAAA,iBAA2BJ,EAAA,KAAUI,YAAA,gBAAAK,OAAmCC,KAAA,sBAA4BC,IAAKC,MAAA,SAAAC,GAAyBhB,EAAAiB,MAAA,aAAAP,OAA6BV,EAAAM,GAAAN,EAAAQ,GAAAE,EAAAQ,gBAAAlB,EAAAM,GAAA,KAAAH,EAAA,QAAyDI,YAAA,wCAAAO,IAAwDC,MAAA,SAAAC,GAAyBhB,EAAAX,mBAAAqB,OAA4BV,EAAAM,GAAA,YAAAN,EAAAM,GAAA,KAAAI,EAAAZ,QAA+JE,EAAAmB,KAA/JhB,EAAA,QAAyDI,YAAA,yCAAAO,IAAyDC,MAAA,SAAAC,GAAyBhB,EAAAH,WAAAa,OAAoBV,EAAAM,GAAA,kBAAAN,EAAAM,GAAA,KAAAH,EAAA,QAA2DI,YAAA,wBAAkCP,EAAAM,GAAAN,EAAAQ,GAAAE,EAAAU,cAAA,gBAA2CpB,EAAAM,GAAA,KAAAH,EAAA,OAA2BI,YAAA,kCAAqC,IAE1xCc","file":"32.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14ed8c91\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ViewAllNotifications.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}]]}!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewAllNotifications.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14ed8c91\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ViewAllNotifications.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14ed8c91\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/components/Nav/ViewAllNotifications.vue\n// module id = 347\n// module chunks = 32","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14ed8c91\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ViewAllNotifications.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"70e7b543\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-14ed8c91\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/Nav/ViewAllNotifications.vue\n// module id = 348\n// module chunks = 32","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".box[data-v-14ed8c91]{max-height:72vh;overflow:scroll}.product-info[data-v-14ed8c91]{margin:0 30px}.label[data-v-14ed8c91]{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-14ed8c91\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/Nav/ViewAllNotifications.vue\n// module id = 349\n// module chunks = 32","<template>\n  <div>\n    <slot name=\"close-button\"></slot>\n    <div class=\"row d-flex justify-content-center\">\n      <div class=\"col-md-8\">\n        <div class=\"box box-primary\">\n          <div class=\"box-header with-border\">\n            <h3 class=\"box-title\">All Notifications ({{ all_notifications_count }})</h3>\n          </div>\n\n          <div class=\"box-body\">\n            <ul class=\"products-list product-list-in-box\">\n              <li class=\"item\" v-for=\"n in all_notifications\" :key=\"n.id\">\n                <div class=\"product-info\">\n                  <a\n                    href=\"javascript:void(0)\"\n                    @click=\"$emit('view-notif', n)\"\n                    class=\"product-title\"\n                  >{{ n.sender_name }}</a>\n                  <span\n                    class=\"pointer label label-danger pull-right\"\n                    @click=\"deleteNotification(n)\"\n                  >Delete</span>\n                  <span\n                    class=\"pointer label label-warning pull-right\"\n                    @click=\"markAsRead(n)\"\n                    v-if=\"!n.is_read\"\n                  >Mark as Read</span>\n                  <span class=\"product-description\">{{ n.notification }}.</span>\n                </div>\n              </li>\n            </ul>\n          </div>\n\n          <div class=\"box-footer text-center\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  /**\n   * Using webpack code splitting to load the notification components only if requested\n   */\n  import {\n    GetAllNotifications,\n    DeleteNotification,\n    MarkNotificationRead\n  } from \"../../routes\";\n  export default {\n    name: \"UserNotifications\",\n    data() {\n      return {\n        all_notifications: {},\n        currentComponent: null\n      };\n    },\n    created() {\n      axios\n        .get(GetAllNotifications)\n        .then(rsp => {\n          this.all_notifications = rsp.data.data;\n        })\n        .catch(err => {\n          console.log(err.response);\n\n          if (err.response) {\n            swal.fire(\"Server Error\", `${err.response.message}`, \"error\");\n          } else if (err.request) {\n            swal.fire(\"Request Error\", `${err.request}`, \"error\");\n          } else {\n            swal.fire(\"Requset Error\", `${err.message}`, \"error\");\n          }\n        });\n    },\n    computed: {\n      all_notifications_count() {\n        return _.size(this.all_notifications);\n      }\n    },\n    methods: {\n      deleteNotification(notif) {\n        axios.get(DeleteNotification(notif.id)).then(rsp => {\n          swal.fire(\"Deleted\", ``, \"info\");\n          var removed = this.all_notifications.indexOf(notif);\n          this.all_notifications.splice(removed, 1);\n        });\n      },\n      markAsRead(notif) {\n        axios.get(MarkNotificationRead(notif.id)).then(rsp => {\n          notif.is_read = true;\n        });\n      }\n    }\n  };\n</script>\n\n<style scoped>\n  .box {\n    max-height: 72vh;\n    overflow: scroll;\n  }\n\n  .product-info {\n    margin: 0 30px;\n  }\n\n  .label {\n    margin-right: 10px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/components/Nav/ViewAllNotifications.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"close-button\"),_vm._v(\" \"),_c('div',{staticClass:\"row d-flex justify-content-center\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"box box-primary\"},[_c('div',{staticClass:\"box-header with-border\"},[_c('h3',{staticClass:\"box-title\"},[_vm._v(\"All Notifications (\"+_vm._s(_vm.all_notifications_count)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-body\"},[_c('ul',{staticClass:\"products-list product-list-in-box\"},_vm._l((_vm.all_notifications),function(n){return _c('li',{key:n.id,staticClass:\"item\"},[_c('div',{staticClass:\"product-info\"},[_c('a',{staticClass:\"product-title\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.$emit('view-notif', n)}}},[_vm._v(_vm._s(n.sender_name))]),_vm._v(\" \"),_c('span',{staticClass:\"pointer label label-danger pull-right\",on:{\"click\":function($event){_vm.deleteNotification(n)}}},[_vm._v(\"Delete\")]),_vm._v(\" \"),(!n.is_read)?_c('span',{staticClass:\"pointer label label-warning pull-right\",on:{\"click\":function($event){_vm.markAsRead(n)}}},[_vm._v(\"Mark as Read\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"product-description\"},[_vm._v(_vm._s(n.notification)+\".\")])])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"box-footer text-center\"})])])])],2)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14ed8c91\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/components/Nav/ViewAllNotifications.vue\n// module id = 351\n// module chunks = 32"],"sourceRoot":""}